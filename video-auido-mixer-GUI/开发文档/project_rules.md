全局开发规则整理

## 运行环境

- 操作系统: Windows 11
- Python版本: Python 3.11.9
- 已配置到系统环境: FFmpeg

## Python规则

- 请用更现代的语法，但是符合当前的运行的环境的python版本。
- 所有资源访问应使用 `with` 块（模拟 C++ RAII）
- 多使用类，去封装与面向对象
- 不需要用到循环变量的`for-in`循环结构，把循环变量命名为`_`
- 程序退出生成正确的退出码`0`

## UV环境相关

- 使用 `uv`作为我Python 项目管理器，它是一个用 Rust 编写的高性能工具。所有的环境管理都遵循 `uv` 的最佳实践。用uv add的方式来添加库，以保证`pyproject.toml`文件的依赖关系正确性。最后记得`uv lock`来确保匹配的环境版本。对于每一个依赖都用`uv add`的方式来添加，以确保project.toml文件的准确性。

## 代码备注风格

- 代码备注用中文
- 最开始用备注简单全局介绍这个工具功能，以及使用说明
- 请可能详细标明代码的功能和说明
  可以使用"文档字符串"（Docstring）去尽可能详解每一个模块、函数或类
- 如果有范围值的参数的设定，请标注可输入范围，同时列举几个不同范围的效果影响

## 代码风格
- 所有变量声明时添加类型注释，例如：`x: int = 5`
- 所有函数都添加明确的参数类型和返回值类型（类型注解）
- 使用 typing 模块中的类型（`list[int]、dict[str, Any]` 等）
- 函数参数使用"通用名"，调用变量使用"具体名"。
  例如: `def process_data(data, config): ...`。
  使用关键字参数 `(参数名=值)`来精确地为后面的参数赋值

```python
# 正确示例：
# '具体'的变量名
sales_data_for_2024 = load_data('sales_2024.csv')
model_config_version_1 = {'learning_rate': 0.01, 'epochs': 10}

# 调用时，'具体'的变量被赋给'通用'的参数
process_data(data=sales_data_for_2024, config=model_config_version_1)
```

## 配置区域

- 可调节配置请用单独的`config.ini`文件来管理。
- 请注意后期我会用nuitka打包成exe文件，所以请注意`config.ini`能够放在exe所在目录能够正确读取。

## 程序通用设计

- 如果有调用外部指令或者程序时候，请使用'context 7'或者联网查询最新的API，以保证正确性和最新用法。
- 注意utf-8的对应，来支持中文，日语等不会出现乱码的问题。

## Input注意事项

- 注意input的数据清洗，空格啊，路径符号转义等。

  

## Terminal控制台输出信息

- 请用emoji来更好的让控制台输出看上去更美观，直接。例如使用✅(成功)❌（错误）⏩（跳过）⚠️（警告）等来表示各种状态。

- 最后请生成总结类的信息。例如总数，成功数，失败数等。
  总结的时候，如果有失败或者跳过时候请进行背景颜色高亮，没有则不用高亮，默认显示即可。
  主要是有错误或者跳过信息用户能一眼锁定，没有的情况下，不需要配色来让用户注意。
  以下是ANSI转义码配色方案
```
  # 如果用户没有指定使用python的rich库的话，默认使用是ANSI转义码：
  # 失败 红底白字
  \033[38;2;255;255;255;48;2;255;0;0m
  # 跳过 黄底黑字
  \033[38;2;0;0;0;48;2;255;255;0m
  # 成功 纯绿底黑字
  \033[38;2;0;0;0;48;2;0;255;0m

  # 如果用户有指定使用了python 的 rich 库的话，则用下面的方案：
  # 失败 红底白字
  white on red
  # 跳过 黄底黑字
  black on yellow
  # 成功 纯绿底黑字
  black on green
```

- 请使用`rich`库来让整个控制台更美观，更合理。

- 程序执行完成后，请最后保留窗口，按回车键结束。加上`input()`代码。

## AI编程相关

- 总是用中文回复。如果内容设计专业名词或者术语，可以多语言并用。
- 请根据项目进度和状态，自动随时补充`ticket.md`（如果项目根目录没有这个文件，请生成）

## 项目收尾

- 请编写`README.md`文档在根目录，要求项目的简介，架构，技术栈，注意点，环境等都要包括在里面。

- 请更新`requirements.txt`的内容
- 请更新`README.md`的内容

## 模块化开发流程

- **功能类化 (模块化)**：将每一个独立的功能点封装成一个独立的类（Class），并放置在自己的 `.py` 文件中。例如，`data_fetcher.py`, `data_processor.py`。
- **单元测试 (Testing)**：为每一个功能类编写独立的单元测试脚本，以确保其功能的正确性和稳定性。测试代码应与源码分离，例如放在 `tests/` 目录下。
- **主程序编排 (Orchestration)**：在主入口文件（如 `main.py`）中，导入所需的类，创建它们的实例（对象），并按业务逻辑顺序调用它们的方法，将各个模块的功能串联起来完成整个任务。主程序应只负责高层逻辑的调度，不应包含具体的功能实现。