# Ticket - GUI 音视频混合工具

## 背景
基于既有的命令行混流脚本，开发一个符合现代审美与交互的桌面 GUI 工具，实现视频与多轨音频的灵活混合，并满足未来 Nuitka 打包的要求。

## 需求概览
- 左侧管理多视频轨道，右侧按 SE/VO/MUSIC 分栏管理音频轨道。
- 支持拖放媒体、配置起始帧、随机或指定 MUSIC 起始时间、限定输出长度逻辑。
- 提供覆盖原声、Limiter（现改为 amix normalize 控制）、保留原声混音等选项，调用 FFmpeg 完成处理。
- 使用 `rich` 优化控制台日志显示，输出汇总统计并保持窗口等待用户确认退出。
- 项目依赖通过 `uv` 管理，提供 `config.ini`、`requirements.txt`、`README.md` 等文档。

## 关键约束
- Python 3.11.9，Windows 11，系统已安装 FFmpeg。
- 代码风格：全量类型注解、中文注释、面向对象、严格资源管理（with）。
- GUI 与核心逻辑模块化，后续需补充单元测试。

## 当前进度
- ✅ 2025-10-02 需求梳理：阅读 FSD 与全局规则，确认功能范围与约束。
- ✅ 2025-10-02 HLD 完成：确认 PySide6、可选预览、随机 Music 策略与拖入文件夹逻辑。
- ✅ 2025-10-02 LLD 完成：细化数据结构、模块接口、配对算法与预览流程。
- ✅ 2025-10-02 核心开发：GUI 主界面、MediaRepository、MixPlanner、TaskExecutor、PreviewController、配置面板及持久化完善。
- ✅ 2025-10-02 测试覆盖：新增配对、滤镜与预览控制器单元测试。
- ✅ 2025-10-02 文档与入口：README、ticket、main.py（支持 `uv run python main.py`）全部更新。

## 收尾计划
- ❇️ 打包准备：按 Nuitka 方案整理部署说明与依赖列表。
- ❇️ 用户指南：补充使用流程、命名规范、常见问题。


